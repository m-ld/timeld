<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="956px" preserveAspectRatio="none" style="width:837px;height:956px;background:#FFFFFF;" version="1.1" viewBox="0 0 837 956" width="837px" zoomAndPan="magnify"><defs><filter height="300%" id="f1723guwbg14jt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[87082398342ff5d5d96b854a3cdd19e0]
cluster Account administration--><polygon fill="#FFFFFF" filter="url(#f1723guwbg14jt)" points="235,6,410,6,417,28.4883,820,28.4883,820,949,235,949,235,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="235" x2="417" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="169" x="239" y="21.5352">Account administration</text><path d="M260.5,54.5 L260.5,95.1211 L525.5,95.1211 L525.5,64.5 L515.5,54.5 L260.5,54.5 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M515.5,54.5 L515.5,64.5 L525.5,64.5 L515.5,54.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="266.5" y="72.0684">≪constraint≫ on all</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="266.5" y="87.3789">User must be account owner OR admin</text><ellipse cx="392.8393" cy="163.9679" fill="#FEFECE" filter="url(#f1723guwbg14jt)" rx="90.3393" ry="20.4679" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="321.8393" y="167.2589">[list | add | rm] email</text><path d="M629.5,41 L629.5,86.71 L447.13,147.45 L629.5,94.71 L629.5,96.9316 A0,0 0 0 0 629.5,96.9316 L770.5,96.9316 A0,0 0 0 0 770.5,96.9316 L770.5,51 L760.5,41 L629.5,41 A0,0 0 0 0 629.5,41 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M760.5,41 L760.5,51 L770.5,51 L760.5,41 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="635.5" y="58.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="635.5" y="73.8789">add email: requires</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="635.5" y="89.1895">emailed activation</text><ellipse cx="392.834" cy="250.7668" fill="#FEFECE" filter="url(#f1723guwbg14jt)" rx="86.834" ry="19.7668" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="325.834" y="254.0578">[list | add | rm] org]</text><path d="M643.5,223 L643.5,247 L480.18,251 L643.5,255 L643.5,278.9316 A0,0 0 0 0 643.5,278.9316 L756.5,278.9316 A0,0 0 0 0 756.5,278.9316 L756.5,233 L746.5,223 L643.5,223 A0,0 0 0 0 643.5,223 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M746.5,223 L746.5,233 L756.5,233 L746.5,223 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="649.5" y="240.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="649.5" y="255.8789">add org: org</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="649.5" y="271.1895">must not exist</text><path d="M614,132 L614,179.9316 L446.78,235.25 L614,187.9316 L614,187.9316 A0,0 0 0 0 614,187.9316 L786,187.9316 A0,0 0 0 0 786,187.9316 L786,142 L776,132 L614,132 A0,0 0 0 0 614,132 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M776,132 L776,142 L786,142 L776,132 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="620" y="149.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="620" y="164.8789">remove org: cascade all</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="620" y="180.1895">timesheets and projects</text><ellipse cx="393.1409" cy="409.0282" fill="#FEFECE" filter="url(#f1723guwbg14jt)" rx="105.6409" ry="23.5282" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="305.1409" y="412.3192">[list | add | rm] org admin</text><path d="M643,314 L643,350.33 L468.61,392.61 L643,358.33 L643,369.9316 A0,0 0 0 0 643,369.9316 L757,369.9316 A0,0 0 0 0 757,369.9316 L757,324 L747,314 L643,314 A0,0 0 0 0 643,314 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M747,314 L747,324 L757,324 L747,314 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="649" y="331.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="649" y="346.8789">cannot remove</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="649" y="362.1895">User as admin</text><ellipse cx="392.9977" cy="531.7995" fill="#FEFECE" filter="url(#f1723guwbg14jt)" rx="136.9977" ry="29.7995" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="243" x="271.4977" y="535.0906">[list | add | rm] [project | timesheet]</text><path d="M623,694 L623,749.9316 L777,749.9316 L777,704 L767,694 L623,694 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M767,694 L767,704 L777,704 L767,694 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="629" y="711.5684">≪trigger≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="629" y="726.8789">add timesheet: init</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="629" y="742.1895">ts domain as genesis</text><path d="M630,603 L630,604.59 L470.57,556.85 L630,612.59 L630,658.9316 A0,0 0 0 0 630,658.9316 L770,658.9316 A0,0 0 0 0 770,658.9316 L770,613 L760,603 L630,603 A0,0 0 0 0 630,603 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M760,603 L760,613 L770,613 L760,603 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="636" y="620.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="636" y="635.8789">add: owned @id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="636" y="651.1895">must have account</text><path d="M616,496.5 L616,528 L530.44,532 L616,536 L616,567.7422 A0,0 0 0 0 616,567.7422 L784,567.7422 A0,0 0 0 0 784,567.7422 L784,506.5 L774,496.5 L616,496.5 A0,0 0 0 0 616,496.5 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M774,496.5 L774,506.5 L784,506.5 L774,496.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="622" y="514.0684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="622" y="529.3789">owned is</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="79" x="682" y="529.3789">composition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="761" y="529.3789">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="622" y="544.6895">cascade create &amp; delete</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="622" y="560">of account property</text><path d="M596,405 L596,460.9316 A0,0 0 0 0 596,460.9316 L608.7,460.9316 L470.57,507.15 L616.7,460.9316 L804,460.9316 A0,0 0 0 0 804,460.9316 L804,415 L794,405 L596,405 A0,0 0 0 0 596,405 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M794,405 L794,415 L804,415 L794,405 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="602" y="422.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="602" y="437.8789">timesheet provider is account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="602" y="453.1895">project client is account</text><ellipse cx="392.7638" cy="672.7528" fill="#FEFECE" filter="url(#f1723guwbg14jt)" rx="141.7638" ry="30.7528" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="266.2638" y="676.0438">[list | add | rm] timesheet project link</text><path d="M632,785.5 L632,826.1211 L768,826.1211 L768,795.5 L758,785.5 L632,785.5 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M758,785.5 L758,795.5 L768,795.5 L758,785.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="638" y="803.0684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="638" y="818.3789">project must exist</text><ellipse cx="392.8196" cy="851.1639" fill="#FEFECE" filter="url(#f1723guwbg14jt)" rx="98.8196" ry="22.1639" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="312.3196" y="854.4549">revoke all device access</text><path d="M615.5,861.5 L615.5,880.37 L475.33,863.27 L615.5,888.37 L615.5,932.7422 A0,0 0 0 0 615.5,932.7422 L784.5,932.7422 A0,0 0 0 0 784.5,932.7422 L784.5,871.5 L774.5,861.5 L615.5,861.5 A0,0 0 0 0 615.5,861.5 " fill="#FBFB77" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M774.5,861.5 L774.5,871.5 L784.5,871.5 L774.5,861.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="621.5" y="879.0684">saves having to track</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="621.5" y="894.3789">devices individually.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="621.5" y="909.6895">Followed by re-activate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="621.5" y="925">of current device</text><!--MD5=[fee662a292a0353a69bd162820bae93b]
entity User--><ellipse cx="21.5" cy="461" fill="#FEFECE" filter="url(#f1723guwbg14jt)" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><path d="M21.5,469 L21.5,496 M8.5,477 L34.5,477 M21.5,496 L8.5,511 M21.5,496 L34.5,511 " fill="none" filter="url(#f1723guwbg14jt)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="6" y="530.0352">User</text><!--MD5=[0af43a27ea7d8c7c70a340bcf4789f34]
link User to userAdminEmail--><path d="M22.19,451.25 C23.88,408.65 32.48,341.86 67,297 C124.84,221.83 232.42,188.9 307.91,174.64 " fill="none" id="User-to-userAdminEmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="312.84,173.73,303.2667,171.4167,307.9218,174.6307,304.7078,179.2859,312.84,173.73" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="94.5" y="196.5684">if User Account</text><!--MD5=[7c4e8a6294297ff40244c57d595087aa]
link User to userAdminOrg--><path d="M37.15,461.09 C44.67,447.57 54.83,432.26 67,421 C148.14,345.95 268.67,294.51 337.87,269.18 " fill="none" id="User-to-userAdminOrg" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="342.76,267.4,332.9342,266.7261,338.0627,269.1133,335.6755,274.2418,342.76,267.4" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="94.5" y="318.5684">if User Account</text><!--MD5=[cff2b2305a54a52442aac09815baeff1]
link User to orgAdmin--><path d="M37.29,487.82 C45.92,485.43 57.05,482.43 67,480 C149.16,459.96 243.67,439.61 309.51,425.87 " fill="none" id="User-to-orgAdmin" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="314.6,424.81,304.9748,422.7229,309.7044,425.8263,306.601,430.5559,314.6,424.81" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="68" y="442.5684">if Organisation Account</text><!--MD5=[98906cbddb6f364f9cfc9ce6cd6edf22]
link User to ownedAdmin--><path d="M37.44,493.62 C75.5,497.74 179.12,508.96 264.58,518.21 " fill="none" id="User-to-ownedAdmin" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="269.67,518.76,261.1433,513.8309,264.698,518.2314,260.2975,521.786,269.67,518.76" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9a5efc573280a1e4c2254b648aee7ae8]
link ownedAdmin to GMN25--><path d="M440.41,560.18 C468.41,577.7 504.45,601.16 535,624 C563.53,645.33 565.87,656.99 596,676 C606.27,682.48 617.6,688.52 628.89,693.95 " fill="none" id="ownedAdmin-GMN25" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[569a3ea65b6b2dbb90f755b559debcf2]
link User to [list | add | rm] timesheet project link--><path d="M37.36,502.89 C45.84,508.87 56.78,516.23 67,522 C151.38,569.65 253.4,615.22 320.35,643.59 " fill="none" id="User-to-[list | add | rm] timesheet project link" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="325.11,645.61,318.3944,638.4058,320.5091,643.6525,315.2624,645.7672,325.11,645.61" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[06a27d48ca8ce82df009fb9484b78932]
link [list | add | rm] timesheet project link to GMN39--><path d="M451.83,701.29 C491.95,720.58 546.81,746.27 596,767 C610.98,773.31 627.36,779.73 642.57,785.49 " fill="none" id="[list | add | rm] timesheet project link-GMN39" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><!--MD5=[1b6fd5439fea7a63f90296fd4123bb53]
link User to revoke all device access--><path d="M32.43,532.74 C39.45,555.83 50.57,584.33 67,606 C145.62,709.74 279.37,791.04 348.2,828.48 " fill="none" id="User-to-revoke all device access" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="352.64,830.88,346.6348,823.0738,348.2445,828.4967,342.8216,830.1065,352.64,830.88" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5999c1ced8044779d9d34c6c31a68b65]
@startuml
'https://plantuml.com/use-case-diagram
left to right direction

actor User
package "Account administration" {
  note "≪constraint≫ on all\nUser must be account owner OR admin" as appliesToAll

  usecase userAdminEmail as ([list | add | rm] email)
  User - -> userAdminEmail: if User Account
  note right of userAdminEmail
    ' TODO
    ≪constraint≫
    add email: requires
    emailed activation
  end note

  usecase userAdminOrg as ([list | add | rm] org])
  User - -> userAdminOrg: if User Account
  note right of userAdminOrg
    ≪constraint≫
    add org: org
    must not exist
  end note
  note right of userAdminOrg
    ≪constraint≫
    remove org: cascade all
    timesheets and projects
  end note
  usecase orgAdmin as ([list | add | rm] org admin)
  User - -> orgAdmin: if Organisation Account
  note right of orgAdmin
    ≪constraint≫
    cannot remove
    User as admin
  end note

  usecase ownedAdmin as ([list | add | rm] [project | timesheet])
  User - -> ownedAdmin
  note right of ownedAdmin
    ≪trigger≫
    add timesheet: init
    ts domain as genesis
  end note
  note right of ownedAdmin
    ≪constraint≫
    add: owned @id
    must have account
  end note
  note right of ownedAdmin
    ≪constraint≫
    owned is //composition//,
    cascade create & delete
    of account property
  end note
  note right of ownedAdmin
    ≪constraint≫
    timesheet provider is account
    project client is account
  end note

  User - -> ([list | add | rm] timesheet project link)
  note right
    ≪constraint≫
    project must exist
  end note

  ' TODO
  User - -> (revoke all device access)
  note right
    saves having to track
    devices individually.
    Followed by re-activate
    of current device
  end note
}

@enduml

@startuml
left to right direction

actor User
package "Account administration" {
  note "≪constraint≫ on all\nUser must be account owner OR admin" as appliesToAll

  usecase userAdminEmail as ([list | add | rm] email)
  User - -> userAdminEmail: if User Account
  note right of userAdminEmail
    ≪constraint≫
    add email: requires
    emailed activation
  end note

  usecase userAdminOrg as ([list | add | rm] org])
  User - -> userAdminOrg: if User Account
  note right of userAdminOrg
    ≪constraint≫
    add org: org
    must not exist
  end note
  note right of userAdminOrg
    ≪constraint≫
    remove org: cascade all
    timesheets and projects
  end note
  usecase orgAdmin as ([list | add | rm] org admin)
  User - -> orgAdmin: if Organisation Account
  note right of orgAdmin
    ≪constraint≫
    cannot remove
    User as admin
  end note

  usecase ownedAdmin as ([list | add | rm] [project | timesheet])
  User - -> ownedAdmin
  note right of ownedAdmin
    ≪trigger≫
    add timesheet: init
    ts domain as genesis
  end note
  note right of ownedAdmin
    ≪constraint≫
    add: owned @id
    must have account
  end note
  note right of ownedAdmin
    ≪constraint≫
    owned is //composition//,
    cascade create & delete
    of account property
  end note
  note right of ownedAdmin
    ≪constraint≫
    timesheet provider is account
    project client is account
  end note

  User - -> ([list | add | rm] timesheet project link)
  note right
    ≪constraint≫
    project must exist
  end note

  User - -> (revoke all device access)
  note right
    saves having to track
    devices individually.
    Followed by re-activate
    of current device
  end note
}

@enduml

PlantUML version 1.2021.10(Mon Aug 30 14:43:48 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>