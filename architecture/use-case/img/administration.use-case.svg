<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="865px" preserveAspectRatio="none" style="width:801px;height:865px;background:#FFFFFF;" version="1.1" viewBox="0 0 801 865" width="801px" zoomAndPan="magnify"><defs><filter height="300%" id="f164d3xvuinjhz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[87082398342ff5d5d96b854a3cdd19e0]
cluster Account administration--><polygon fill="#FFFFFF" filter="url(#f164d3xvuinjhz)" points="235,6,410,6,417,28.4883,784,28.4883,784,858,235,858,235,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="235" x2="417" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="169" x="239" y="21.5352">Account administration</text><path d="M260.5,54.5 L260.5,95.1211 L525.5,95.1211 L525.5,64.5 L515.5,54.5 L260.5,54.5 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M515.5,54.5 L515.5,64.5 L525.5,64.5 L515.5,54.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="266.5" y="72.0684">≪constraint≫ on all</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="266.5" y="87.3789">User must be account owner OR admin</text><ellipse cx="392.8393" cy="163.9679" fill="#FEFECE" filter="url(#f164d3xvuinjhz)" rx="90.3393" ry="20.4679" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="321.8393" y="167.2589">[list | add | rm] email</text><path d="M611.5,41 L611.5,88.05 L444.98,147.13 L611.5,96.05 L611.5,96.9316 A0,0 0 0 0 611.5,96.9316 L752.5,96.9316 A0,0 0 0 0 752.5,96.9316 L752.5,51 L742.5,41 L611.5,41 A0,0 0 0 0 611.5,41 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M742.5,41 L742.5,51 L752.5,51 L742.5,41 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="617.5" y="58.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="617.5" y="73.8789">add email: requires</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="617.5" y="89.1895">emailed activation</text><ellipse cx="392.834" cy="250.7668" fill="#FEFECE" filter="url(#f164d3xvuinjhz)" rx="86.834" ry="19.7668" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="325.834" y="254.0578">[list | add | rm] org]</text><path d="M625.5,223 L625.5,247 L480.11,251 L625.5,255 L625.5,278.9316 A0,0 0 0 0 625.5,278.9316 L738.5,278.9316 A0,0 0 0 0 738.5,278.9316 L738.5,233 L728.5,223 L625.5,223 A0,0 0 0 0 625.5,223 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M728.5,223 L728.5,233 L738.5,233 L728.5,223 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="631.5" y="240.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="631.5" y="255.8789">add org: org</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="631.5" y="271.1895">must not exist</text><path d="M596,132 L596,179.9316 L444.98,234.84 L596,187.9316 L596,187.9316 A0,0 0 0 0 596,187.9316 L768,187.9316 A0,0 0 0 0 768,187.9316 L768,142 L758,132 L596,132 A0,0 0 0 0 596,132 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M758,132 L758,142 L768,142 L758,132 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="602" y="149.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="602" y="164.8789">remove org: cascade all</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="602" y="180.1895">timesheets and projects</text><ellipse cx="393.1409" cy="403.0282" fill="#FEFECE" filter="url(#f164d3xvuinjhz)" rx="105.6409" ry="23.5282" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="305.1409" y="406.3192">[list | add | rm] org admin</text><path d="M625,314 L625,349.91 L470.16,386.81 L625,357.91 L625,369.9316 A0,0 0 0 0 625,369.9316 L739,369.9316 A0,0 0 0 0 739,369.9316 L739,324 L729,314 L625,314 A0,0 0 0 0 625,314 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M729,314 L729,324 L739,324 L729,314 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="631" y="331.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="631" y="346.8789">cannot remove</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="631" y="362.1895">User as admin</text><ellipse cx="392.9977" cy="511.7995" fill="#FEFECE" filter="url(#f164d3xvuinjhz)" rx="136.9977" ry="29.7995" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="243" x="271.4977" y="515.0906">[list | add | rm] [project | timesheet]</text><path d="M605,603 L605,658.9316 A0,0 0 0 0 605,658.9316 L759,658.9316 A0,0 0 0 0 759,658.9316 L759,613 L749,603 L617.4,603 L458.05,538.56 L609.4,603 L605,603 A0,0 0 0 0 605,603 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M749,603 L749,613 L759,613 L749,603 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="611" y="620.5684">≪trigger≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="611" y="635.8789">add timesheet: init</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="611" y="651.1895">ts domain as genesis</text><path d="M612,512 L612,529.24 L518.63,524.16 L612,537.24 L612,567.9316 A0,0 0 0 0 612,567.9316 L752,567.9316 A0,0 0 0 0 752,567.9316 L752,522 L742,512 L612,512 A0,0 0 0 0 612,512 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M742,512 L742,522 L752,522 L742,512 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="618" y="529.5684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="618" y="544.8789">add: owned @id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="618" y="560.1895">must have account</text><path d="M598,405.5 L598,457.57 L484.41,489.63 L598,465.57 L598,476.7422 A0,0 0 0 0 598,476.7422 L766,476.7422 A0,0 0 0 0 766,476.7422 L766,415.5 L756,405.5 L598,405.5 A0,0 0 0 0 598,405.5 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M756,405.5 L756,415.5 L766,415.5 L756,405.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="604" y="423.0684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="604" y="438.3789">owned is</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="79" x="664" y="438.3789">composition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="743" y="438.3789">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="604" y="453.6895">cascade create &amp; delete</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="604" y="469">of account property</text><ellipse cx="392.7638" cy="627.7528" fill="#FEFECE" filter="url(#f164d3xvuinjhz)" rx="141.7638" ry="30.7528" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="266.2638" y="631.0438">[list | add | rm] timesheet project link</text><path d="M614,694.5 L614,735.1211 A0,0 0 0 0 614,735.1211 L750,735.1211 A0,0 0 0 0 750,735.1211 L750,704.5 L740,694.5 L622,694.5 L477.01,653.16 L614,694.5 L614,694.5 A0,0 0 0 0 614,694.5 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M740,694.5 L740,704.5 L750,704.5 L740,694.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="620" y="712.0684">≪constraint≫</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="620" y="727.3789">project must exist</text><ellipse cx="392.8196" cy="757.1639" fill="#FEFECE" filter="url(#f164d3xvuinjhz)" rx="98.8196" ry="22.1639" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="312.3196" y="760.4549">revoke all device access</text><path d="M597.5,770.5 L597.5,787.73 L472.04,770.32 L597.5,795.73 L597.5,841.7422 A0,0 0 0 0 597.5,841.7422 L766.5,841.7422 A0,0 0 0 0 766.5,841.7422 L766.5,780.5 L756.5,770.5 L597.5,770.5 A0,0 0 0 0 597.5,770.5 " fill="#FBFB77" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M756.5,770.5 L756.5,780.5 L766.5,780.5 L756.5,770.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="603.5" y="788.0684">saves having to track</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="603.5" y="803.3789">devices individually.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="603.5" y="818.6895">Followed by re-activate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="603.5" y="834">of current device</text><!--MD5=[fee662a292a0353a69bd162820bae93b]
entity User--><ellipse cx="21.5" cy="449" fill="#FEFECE" filter="url(#f164d3xvuinjhz)" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.5;"/><path d="M21.5,457 L21.5,484 M8.5,465 L34.5,465 M21.5,484 L8.5,499 M21.5,484 L34.5,499 " fill="none" filter="url(#f164d3xvuinjhz)" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="6" y="518.0352">User</text><!--MD5=[0af43a27ea7d8c7c70a340bcf4789f34]
link User to userAdminEmail--><path d="M22.08,439.42 C23.72,397.43 32.29,332.09 67,289 C125.15,216.82 230.22,186.26 305.15,173.36 " fill="none" id="User-to-userAdminEmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="310.49,172.46,300.9514,170.0075,305.5592,173.2889,302.2777,177.8967,310.49,172.46" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="94.5" y="192.5684">if User Account</text><!--MD5=[7c4e8a6294297ff40244c57d595087aa]
link User to userAdminOrg--><path d="M37,447.65 C44.43,433.79 54.56,418.25 67,407 C145.64,335.85 262.55,290.55 332.62,268.04 " fill="none" id="User-to-userAdminOrg" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="337.58,266.46,327.7917,265.3699,332.8142,267.9725,330.2116,272.9951,337.58,266.46" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="94.5" y="310.5684">if User Account</text><!--MD5=[cff2b2305a54a52442aac09815baeff1]
link User to orgAdmin--><path d="M37.18,474.49 C45.78,471.4 56.91,467.65 67,465 C144.84,444.56 234.82,427.92 300.34,417.05 " fill="none" id="User-to-orgAdmin" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="305.41,416.21,295.8783,413.7306,300.4769,417.025,297.1824,421.6236,305.41,416.21" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="68" y="428.5684">if Organisation Account</text><!--MD5=[98906cbddb6f364f9cfc9ce6cd6edf22]
link User to ownedAdmin--><path d="M37.44,481.29 C74.84,484.53 175.54,493.25 260.11,500.58 " fill="none" id="User-to-ownedAdmin" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="265.14,501.01,256.5156,496.2539,260.1584,500.5818,255.8305,504.2245,265.14,501.01" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[569a3ea65b6b2dbb90f755b559debcf2]
link User to [list | add | rm] timesheet project link--><path d="M37.04,488.9 C45.6,493.95 56.72,500.2 67,505 C147.34,542.51 242.55,577.49 309.08,600.49 " fill="none" id="User-to-[list | add | rm] timesheet project link" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="313.82,602.12,306.6376,595.3811,309.0985,600.4746,304.005,602.9355,313.82,602.12" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1b6fd5439fea7a63f90296fd4123bb53]
link User to revoke all device access--><path d="M35.41,520.87 C42.62,539.18 53.02,560.16 67,576 C139.52,658.16 258.68,710.92 330.8,737.16 " fill="none" id="User-to-revoke all device access" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="335.91,739.01,328.8005,732.1942,331.2065,737.3139,326.0868,739.7198,335.91,739.01" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2423cdf89dda38ed0a4f7c87394d5da5]
@startuml
'https://plantuml.com/use-case-diagram
left to right direction

actor User
package "Account administration" {
  note "≪constraint≫ on all\nUser must be account owner OR admin" as appliesToAll

  usecase userAdminEmail as ([list | add | rm] email)
  User - -> userAdminEmail: if User Account
  note right of userAdminEmail
    ' TODO
    ≪constraint≫
    add email: requires
    emailed activation
  end note

  usecase userAdminOrg as ([list | add | rm] org])
  User - -> userAdminOrg: if User Account
  note right of userAdminOrg
    ≪constraint≫
    add org: org
    must not exist
  end note
  note right of userAdminOrg
    ≪constraint≫
    remove org: cascade all
    timesheets and projects
  end note
  usecase orgAdmin as ([list | add | rm] org admin)
  User - -> orgAdmin: if Organisation Account
  note right of orgAdmin
    ≪constraint≫
    cannot remove
    User as admin
  end note

  usecase ownedAdmin as ([list | add | rm] [project | timesheet])
  User - -> ownedAdmin
  note right of ownedAdmin
    ≪trigger≫
    add timesheet: init
    ts domain as genesis
  end note
  note right of ownedAdmin
    ≪constraint≫
    add: owned @id
    must have account
  end note
  note right of ownedAdmin
    ≪constraint≫
    owned is //composition//,
    cascade create & delete
    of account property
  end note

  User - -> ([list | add | rm] timesheet project link)
  note right
    ≪constraint≫
    project must exist
  end note

  ' TODO
  User - -> (revoke all device access)
  note right
    saves having to track
    devices individually.
    Followed by re-activate
    of current device
  end note
}

@enduml

@startuml
left to right direction

actor User
package "Account administration" {
  note "≪constraint≫ on all\nUser must be account owner OR admin" as appliesToAll

  usecase userAdminEmail as ([list | add | rm] email)
  User - -> userAdminEmail: if User Account
  note right of userAdminEmail
    ≪constraint≫
    add email: requires
    emailed activation
  end note

  usecase userAdminOrg as ([list | add | rm] org])
  User - -> userAdminOrg: if User Account
  note right of userAdminOrg
    ≪constraint≫
    add org: org
    must not exist
  end note
  note right of userAdminOrg
    ≪constraint≫
    remove org: cascade all
    timesheets and projects
  end note
  usecase orgAdmin as ([list | add | rm] org admin)
  User - -> orgAdmin: if Organisation Account
  note right of orgAdmin
    ≪constraint≫
    cannot remove
    User as admin
  end note

  usecase ownedAdmin as ([list | add | rm] [project | timesheet])
  User - -> ownedAdmin
  note right of ownedAdmin
    ≪trigger≫
    add timesheet: init
    ts domain as genesis
  end note
  note right of ownedAdmin
    ≪constraint≫
    add: owned @id
    must have account
  end note
  note right of ownedAdmin
    ≪constraint≫
    owned is //composition//,
    cascade create & delete
    of account property
  end note

  User - -> ([list | add | rm] timesheet project link)
  note right
    ≪constraint≫
    project must exist
  end note

  User - -> (revoke all device access)
  note right
    saves having to track
    devices individually.
    Followed by re-activate
    of current device
  end note
}

@enduml

PlantUML version 1.2021.10(Mon Aug 30 14:43:48 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>