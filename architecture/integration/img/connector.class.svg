<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="574px" preserveAspectRatio="none" style="width:950px;height:574px;background:#FFFFFF;" version="1.1" viewBox="0 0 950 574" width="950px" zoomAndPan="magnify"><defs/><g><!--MD5=[f9a29335b499db729be669fd1bd54958]
class Account--><g id="elem_Account"><rect codeLine="6" fill="#F1F1F1" height="89.5977" id="Account" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="595.5" y="158.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="54" x="660" y="175.1016">«subject»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="659" y="191.168">Account</text><line style="stroke:#181818;stroke-width:0.5;" x1="596.5" x2="777.5" y1="199.1211" y2="199.1211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="601.5" y="216.6563">timesheet : Timesheet [*]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="601.5" y="233.1445">project : Project [*]</text><line style="stroke:#181818;stroke-width:0.5;" x1="596.5" x2="777.5" y1="240.0977" y2="240.0977"/></g><!--MD5=[0c2e12f724a2bba325ddf189ef351421]
class Timesheet--><g id="elem_Timesheet"><rect codeLine="11" fill="#F1F1F1" height="103.7305" id="Timesheet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="592.5" y="394"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55" x="659.5" y="410.6016">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="54" x="660" y="424.7344">«subject»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="651.5" y="440.8008">Timesheet</text><line style="stroke:#181818;stroke-width:0.5;" x1="593.5" x2="780.5" y1="448.7539" y2="448.7539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="598.5" y="466.2891">project : Project [*]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="598.5" y="482.7773">external : Reference [0..1]</text><line style="stroke:#181818;stroke-width:0.5;" x1="593.5" x2="780.5" y1="489.7305" y2="489.7305"/></g><path d="M816.5,420.5 L816.5,436.8105 L775.5,477.4863 L816.5,444.8105 L816.5,461.1211 A0,0 0 0 0 816.5,461.1211 L943.5,461.1211 A0,0 0 0 0 943.5,461.1211 L943.5,430.5 L933.5,420.5 L816.5,420.5 A0,0 0 0 0 816.5,420.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M933.5,420.5 L933.5,430.5 L943.5,430.5 L933.5,420.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="822.5" y="438.0684">The original</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="822.5" y="453.3789">system of record</text><!--MD5=[a3a837a34aad17048931616634bf581a]
class ConnectorExtension--><g id="elem_ConnectorExtension"><rect codeLine="22" fill="#F1F1F1" height="89.5977" id="ConnectorExtension" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243" x="74.5" y="158.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="54" x="169" y="175.1016">«subject»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="126" y="191.168">ConnectorExtension</text><line style="stroke:#181818;stroke-width:0.5;" x1="75.5" x2="316.5" y1="199.1211" y2="199.1211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="80.5" y="216.6563">module : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="80.5" y="233.1445">appliesTo : Timesheet | Project [*]</text><line style="stroke:#181818;stroke-width:0.5;" x1="75.5" x2="316.5" y1="240.0977" y2="240.0977"/></g><g id="elem_GMN8"><path d="M100.5,6 L100.5,92.5527 A0,0 0 0 0 100.5,92.5527 L192,92.5527 L196,158.49 L200,92.5527 L291.5,92.5527 A0,0 0 0 0 291.5,92.5527 L291.5,16 L281.5,6 L100.5,6 A0,0 0 0 0 100.5,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M281.5,6 L281.5,16 L291.5,16 L281.5,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="106.5" y="23.5684">Represents another system</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="106.5" y="38.8789">whose language we speak,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="106.5" y="54.1895">for the limited purpose</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="106.5" y="69.5">of pushing</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="50" x="178.5" y="69.5">updates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="232.5" y="69.5">and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="106.5" y="84.8105">responding</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="181.5" y="84.8105">snapshots</text></g><path d="M352.5,153 L352.5,169.3105 L184.5,211.3652 L352.5,177.3105 L352.5,193.6211 A0,0 0 0 0 352.5,193.6211 L509.5,193.6211 A0,0 0 0 0 509.5,193.6211 L509.5,163 L499.5,153 L352.5,153 A0,0 0 0 0 352.5,153 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M499.5,153 L499.5,163 L509.5,163 L499.5,153 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="358.5" y="170.5684">NodeJS ESM import of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="358.5" y="185.8789">Connector class</text><path d="M352.5,203.6211 L352.5,219.9316 L311.5,227.8535 L352.5,227.9316 L352.5,244.2422 A0,0 0 0 0 352.5,244.2422 L509.5,244.2422 A0,0 0 0 0 509.5,244.2422 L509.5,213.6211 L499.5,203.6211 L352.5,203.6211 A0,0 0 0 0 352.5,203.6211 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M499.5,203.6211 L499.5,213.6211 L509.5,213.6211 L499.5,203.6211 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="358.5" y="221.1895">Selection of account-</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="358.5" y="236.5">owned data</text><!--MD5=[2e807730047ae2e9fc9e944cb69597f3]
class Connector--><g id="elem_Connector"><rect codeLine="46" fill="#F1F1F1" height="172.0391" id="Connector" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="274" x="7" y="360"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68" x="110" y="376.6016">«javascript»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="108" y="392.668">Connector</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="280" y1="400.6211" y2="400.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="119" x="13" y="418.1563">configKey : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="137" x="13" y="434.6445">contentType : string</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="280" y1="441.5977" y2="441.5977"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="13" y="459.1328">constructor(config, ext)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="13" y="475.6211">syncTimesheet(tsId, state): Observable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="13" y="492.1094">entryUpdate(tsId, update, state)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="13" y="508.5977">reportTimesheet(tsId, state) : Stream</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="13" y="525.0859">accountUpdate(update)</text></g><path d="M316.5,314 L316.5,337.9658 L175,453.8418 L316.5,345.9658 L316.5,369.9316 A0,0 0 0 0 316.5,369.9316 L557.5,369.9316 A0,0 0 0 0 557.5,369.9316 L557.5,324 L547.5,314 L316.5,314 A0,0 0 0 0 316.5,314 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M547.5,314 L547.5,324 L557.5,324 L547.5,314 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="322.5" y="331.5684">passed configuration (inc. secrets)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="322.5" y="346.8789">and extension, can have properties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="322.5" y="362.1895">storing additional config &amp; data</text><path d="M316.5,379.9316 L316.5,403.8975 L275,470.3301 L316.5,411.8975 L316.5,435.8633 A0,0 0 0 0 316.5,435.8633 L528.5,435.8633 A0,0 0 0 0 528.5,435.8633 L528.5,389.9316 L518.5,379.9316 L316.5,379.9316 A0,0 0 0 0 316.5,379.9316 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M518.5,379.9316 L518.5,389.9316 L528.5,389.9316 L518.5,379.9316 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="322.5" y="397.5">Establish sync, e.g. initial</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="322.5" y="412.8105">import or export; then provide</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="322.5" y="428.1211">ongoing updates</text><path d="M316.5,445.8633 L316.5,477.4844 L229,486.8184 L316.5,485.4844 L316.5,517.1055 A0,0 0 0 0 316.5,517.1055 L518.5,517.1055 A0,0 0 0 0 518.5,517.1055 L518.5,455.8633 L508.5,445.8633 L316.5,445.8633 A0,0 0 0 0 316.5,445.8633 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M508.5,445.8633 L508.5,455.8633 L518.5,455.8633 L508.5,445.8633 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="322.5" y="463.4316">Update of Timesheet Entries.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="322.5" y="478.7422">Provided with the Timesheet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="322.5" y="494.0527">ID, raw m-ld update, the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="322.5" y="509.3633">current Timesheet state</text><path d="M316.5,527.1055 L316.5,543.416 L174,519.7949 L316.5,551.416 L316.5,567.7266 A0,0 0 0 0 316.5,567.7266 L519.5,567.7266 A0,0 0 0 0 519.5,567.7266 L519.5,537.1055 L509.5,527.1055 L316.5,527.1055 A0,0 0 0 0 316.5,527.1055 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M509.5,527.1055 L509.5,537.1055 L519.5,537.1055 L509.5,527.1055 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="322.5" y="544.6738">Limited account updates e.g.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="322.5" y="559.9844">create/delete Timesheet</text><!--MD5=[f3ce057685e0ff9797995d99a96fc0ff]
link Account to Timesheet--><g id="link_Account_Timesheet"><path codeLine="20" d="M687,260.61 C687,260.61 687,343.44 687,380.46 " fill="none" id="Account-Timesheet" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="687,393.66,691,384.66,687,388.66,683,384.66,687,393.66" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687" x2="687" y1="388.66" y2="380.66"/><polygon fill="#181818" points="687,248.61,683,254.61,687,260.61,691,254.61,687,248.61" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="680.5969" y="383.2263">*</text></g><!--MD5=[83282e75ddbe438018ccb7f527e1cd69]
link ConnectorExtension to Timesheet--><g id="link_ConnectorExtension_Timesheet"><path codeLine="44" d="M317.44,248.52 C323.36,250.42 329.24,252.26 335,254 C440.25,285.81 481.51,256.14 575,314 C607.31,334 635.13,366.4 654.96,393.97 " fill="none" id="ConnectorExtension-Timesheet" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c2358816ba66ef764ca464d78ea400bf]
link ConnectorExtension to Connector--><g id="link_ConnectorExtension_Connector"><path codeLine="79" d="M186.46,248.61 C179.75,279.67 170.55,322.23 162.42,359.79 " fill="none" id="ConnectorExtension-Connector" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="60.7491" y="349.3168">implementation</text></g><!--MD5=[24ad2cc9553c9f763fbf843acb3f2666]
@startuml
'https://plantuml.com/class-diagram

hide circle
allowmixing

abstract class Account <<subject>> {
  timesheet : Timesheet [*]
  project : Project [*]
}

class Timesheet <<domain>> <<subject>> {
  project : Project [*]
  external : Reference [0..1]
}
note right of Timesheet::external
  The original
  system of record
end note

Account *- -> "*" Timesheet

class ConnectorExtension <<subject>> {
  module : string
  appliesTo : Timesheet | Project [*]
}
note top of ConnectorExtension
  Represents another system
  whose language we speak,
  for the limited purpose
  of pushing //updates// and
  responding //snapshots//
end note

note right of ConnectorExtension::module
  NodeJS ESM import of
  Connector class
end note

note right of ConnectorExtension::appliesTo
  Selection of account-
  owned data
end note

ConnectorExtension - - Timesheet

abstract class Connector <<javascript>> {
  {static} configKey : string
  {static} contentType : string
  constructor(config, ext)
  syncTimesheet(tsId, state): Observable
  entryUpdate(tsId, update, state)
  reportTimesheet(tsId, state) : Stream
  accountUpdate(update)
}
note right of Connector::constructor
  passed configuration (inc. secrets)
  and extension, can have properties
  storing additional config & data
end note

note right of Connector::syncTimesheet
  Establish sync, e.g. initial
  import or export; then provide
  ongoing updates
end note

note right of Connector::entryUpdate
  Update of Timesheet Entries.
  Provided with the Timesheet
  ID, raw m-ld update, the
  current Timesheet state
end note

note right of Connector::accountUpdate
  Limited account updates e.g.
  create/delete Timesheet
end note

ConnectorExtension - - "implementation" Connector

@enduml

@startuml

hide circle
allowmixing

abstract class Account <<subject>> {
  timesheet : Timesheet [*]
  project : Project [*]
}

class Timesheet <<domain>> <<subject>> {
  project : Project [*]
  external : Reference [0..1]
}
note right of Timesheet::external
  The original
  system of record
end note

Account *- -> "*" Timesheet

class ConnectorExtension <<subject>> {
  module : string
  appliesTo : Timesheet | Project [*]
}
note top of ConnectorExtension
  Represents another system
  whose language we speak,
  for the limited purpose
  of pushing //updates// and
  responding //snapshots//
end note

note right of ConnectorExtension::module
  NodeJS ESM import of
  Connector class
end note

note right of ConnectorExtension::appliesTo
  Selection of account-
  owned data
end note

ConnectorExtension - - Timesheet

abstract class Connector <<javascript>> {
  {static} configKey : string
  {static} contentType : string
  constructor(config, ext)
  syncTimesheet(tsId, state): Observable
  entryUpdate(tsId, update, state)
  reportTimesheet(tsId, state) : Stream
  accountUpdate(update)
}
note right of Connector::constructor
  passed configuration (inc. secrets)
  and extension, can have properties
  storing additional config & data
end note

note right of Connector::syncTimesheet
  Establish sync, e.g. initial
  import or export; then provide
  ongoing updates
end note

note right of Connector::entryUpdate
  Update of Timesheet Entries.
  Provided with the Timesheet
  ID, raw m-ld update, the
  current Timesheet state
end note

note right of Connector::accountUpdate
  Limited account updates e.g.
  create/delete Timesheet
end note

ConnectorExtension - - "implementation" Connector

@enduml

PlantUML version 1.2022.8(Sun Sep 25 10:00:33 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>