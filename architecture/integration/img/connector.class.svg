<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="574px" preserveAspectRatio="none" style="width:982px;height:574px;background:#FFFFFF;" version="1.1" viewBox="0 0 982 574" width="982px" zoomAndPan="magnify"><defs/><g><!--MD5=[f9a29335b499db729be669fd1bd54958]
class Account--><g id="elem_Account"><rect codeLine="6" fill="#F1F1F1" height="89.5977" id="Account" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="627.5" y="158.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="54" x="692" y="175.1016">«subject»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="691" y="191.168">Account</text><line style="stroke:#181818;stroke-width:0.5;" x1="628.5" x2="809.5" y1="199.1211" y2="199.1211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="633.5" y="216.6563">timesheet : Timesheet [*]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="633.5" y="233.1445">project : Project [*]</text><line style="stroke:#181818;stroke-width:0.5;" x1="628.5" x2="809.5" y1="240.0977" y2="240.0977"/></g><!--MD5=[0c2e12f724a2bba325ddf189ef351421]
class Timesheet--><g id="elem_Timesheet"><rect codeLine="11" fill="#F1F1F1" height="103.7305" id="Timesheet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="624.5" y="394"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55" x="691.5" y="410.6016">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="54" x="692" y="424.7344">«subject»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="683.5" y="440.8008">Timesheet</text><line style="stroke:#181818;stroke-width:0.5;" x1="625.5" x2="812.5" y1="448.7539" y2="448.7539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="630.5" y="466.2891">project : Project [*]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="630.5" y="482.7773">external : Reference [0..1]</text><line style="stroke:#181818;stroke-width:0.5;" x1="625.5" x2="812.5" y1="489.7305" y2="489.7305"/></g><path d="M848.5,420.5 L848.5,436.8105 L807.5,477.4863 L848.5,444.8105 L848.5,461.1211 A0,0 0 0 0 848.5,461.1211 L975.5,461.1211 A0,0 0 0 0 975.5,461.1211 L975.5,430.5 L965.5,420.5 L848.5,420.5 A0,0 0 0 0 848.5,420.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M965.5,420.5 L965.5,430.5 L975.5,430.5 L965.5,420.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="854.5" y="438.0684">The original</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="854.5" y="453.3789">system of record</text><!--MD5=[a3a837a34aad17048931616634bf581a]
class ConnectorExtension--><g id="elem_ConnectorExtension"><rect codeLine="22" fill="#F1F1F1" height="89.5977" id="ConnectorExtension" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243" x="98.5" y="158.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="54" x="193" y="175.1016">«subject»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="150" y="191.168">ConnectorExtension</text><line style="stroke:#181818;stroke-width:0.5;" x1="99.5" x2="340.5" y1="199.1211" y2="199.1211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="104.5" y="216.6563">module : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="104.5" y="233.1445">appliesTo : Timesheet | Project [*]</text><line style="stroke:#181818;stroke-width:0.5;" x1="99.5" x2="340.5" y1="240.0977" y2="240.0977"/></g><g id="elem_GMN8"><path d="M124.5,6 L124.5,92.5527 A0,0 0 0 0 124.5,92.5527 L216,92.5527 L220,158.49 L224,92.5527 L315.5,92.5527 A0,0 0 0 0 315.5,92.5527 L315.5,16 L305.5,6 L124.5,6 A0,0 0 0 0 124.5,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M305.5,6 L305.5,16 L315.5,16 L305.5,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="130.5" y="23.5684">Represents another system</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="130.5" y="38.8789">whose language we speak,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="130.5" y="54.1895">for the limited purpose</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="130.5" y="69.5">of pushing</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="50" x="202.5" y="69.5">updates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="256.5" y="69.5">and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="130.5" y="84.8105">responding</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="205.5" y="84.8105">snapshots</text></g><path d="M376.5,153 L376.5,169.3105 L208.5,211.3652 L376.5,177.3105 L376.5,193.6211 A0,0 0 0 0 376.5,193.6211 L533.5,193.6211 A0,0 0 0 0 533.5,193.6211 L533.5,163 L523.5,153 L376.5,153 A0,0 0 0 0 376.5,153 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M523.5,153 L523.5,163 L533.5,163 L523.5,153 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="382.5" y="170.5684">NodeJS ESM import of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="382.5" y="185.8789">Connector class</text><path d="M376.5,203.6211 L376.5,219.9316 L335.5,227.8535 L376.5,227.9316 L376.5,244.2422 A0,0 0 0 0 376.5,244.2422 L533.5,244.2422 A0,0 0 0 0 533.5,244.2422 L533.5,213.6211 L523.5,203.6211 L376.5,203.6211 A0,0 0 0 0 376.5,203.6211 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M523.5,203.6211 L523.5,213.6211 L533.5,213.6211 L523.5,203.6211 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="382.5" y="221.1895">Selection of account-</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="382.5" y="236.5">owned data</text><!--MD5=[2e807730047ae2e9fc9e944cb69597f3]
class Connector--><g id="elem_Connector"><rect codeLine="46" fill="#F1F1F1" height="172.0391" id="Connector" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="306" x="7" y="360"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="68" x="126" y="376.6016">«javascript»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="124" y="392.668">Connector</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="312" y1="400.6211" y2="400.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="119" x="13" y="418.1563">configKey : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="137" x="13" y="434.6445">contentType : string</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="312" y1="441.5977" y2="441.5977"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="13" y="459.1328">constructor(config, ext)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="13" y="475.6211">syncTimesheet(tsId, state, tick): Observable</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="13" y="492.1094">entryUpdate(tsId, update, state)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="13" y="508.5977">reportTimesheet(tsId, state) : Stream</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="13" y="525.0859">accountUpdate(update)</text></g><path d="M348.5,314 L348.5,337.9658 L175,453.8418 L348.5,345.9658 L348.5,369.9316 A0,0 0 0 0 348.5,369.9316 L589.5,369.9316 A0,0 0 0 0 589.5,369.9316 L589.5,324 L579.5,314 L348.5,314 A0,0 0 0 0 348.5,314 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M579.5,314 L579.5,324 L589.5,324 L579.5,314 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="354.5" y="331.5684">passed configuration (inc. secrets)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="354.5" y="346.8789">and extension, can have properties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="354.5" y="362.1895">storing additional config &amp; data</text><path d="M348.5,379.9316 L348.5,403.8975 L307,470.3301 L348.5,411.8975 L348.5,435.8633 A0,0 0 0 0 348.5,435.8633 L560.5,435.8633 A0,0 0 0 0 560.5,435.8633 L560.5,389.9316 L550.5,379.9316 L348.5,379.9316 A0,0 0 0 0 348.5,379.9316 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M550.5,379.9316 L550.5,389.9316 L560.5,389.9316 L550.5,379.9316 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="354.5" y="397.5">Establish sync, e.g. initial</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="354.5" y="412.8105">import or export; then provide</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="354.5" y="428.1211">ongoing updates</text><path d="M348.5,445.8633 L348.5,477.4844 L229,486.8184 L348.5,485.4844 L348.5,517.1055 A0,0 0 0 0 348.5,517.1055 L550.5,517.1055 A0,0 0 0 0 550.5,517.1055 L550.5,455.8633 L540.5,445.8633 L348.5,445.8633 A0,0 0 0 0 348.5,445.8633 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M540.5,445.8633 L540.5,455.8633 L550.5,455.8633 L540.5,445.8633 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="354.5" y="463.4316">Update of Timesheet Entries.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="354.5" y="478.7422">Provided with the Timesheet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="354.5" y="494.0527">ID, raw m-ld update, the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="354.5" y="509.3633">current Timesheet state</text><path d="M348.5,527.1055 L348.5,543.416 L174,519.7949 L348.5,551.416 L348.5,567.7266 A0,0 0 0 0 348.5,567.7266 L551.5,567.7266 A0,0 0 0 0 551.5,567.7266 L551.5,537.1055 L541.5,527.1055 L348.5,527.1055 A0,0 0 0 0 348.5,527.1055 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M541.5,527.1055 L541.5,537.1055 L551.5,537.1055 L541.5,527.1055 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="354.5" y="544.6738">Limited account updates e.g.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="354.5" y="559.9844">create/delete Timesheet</text><!--MD5=[f3ce057685e0ff9797995d99a96fc0ff]
link Account to Timesheet--><g id="link_Account_Timesheet"><path codeLine="20" d="M719,260.61 C719,260.61 719,343.44 719,380.46 " fill="none" id="Account-Timesheet" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="719,393.66,723,384.66,719,388.66,715,384.66,719,393.66" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="719" x2="719" y1="388.66" y2="380.66"/><polygon fill="#181818" points="719,248.61,715,254.61,719,260.61,723,254.61,719,248.61" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6" x="712.5969" y="383.2263">*</text></g><!--MD5=[83282e75ddbe438018ccb7f527e1cd69]
link ConnectorExtension to Timesheet--><g id="link_ConnectorExtension_Timesheet"><path codeLine="44" d="M341.43,248.57 C347.35,250.46 353.23,252.28 359,254 C467.68,286.4 510.35,254.69 607,314 C639.39,333.88 667.21,366.27 687.02,393.87 " fill="none" id="ConnectorExtension-Timesheet" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c2358816ba66ef764ca464d78ea400bf]
link ConnectorExtension to Connector--><g id="link_ConnectorExtension_Connector"><path codeLine="79" d="M209,248.61 C201.25,279.67 190.63,322.23 181.26,359.79 " fill="none" id="ConnectorExtension-Connector" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="79.8331" y="349.3168">implementation</text></g><!--MD5=[b42fb03df278230fb2672cf7861925d5]
@startuml
'https://plantuml.com/class-diagram

hide circle
allowmixing

abstract class Account <<subject>> {
  timesheet : Timesheet [*]
  project : Project [*]
}

class Timesheet <<domain>> <<subject>> {
  project : Project [*]
  external : Reference [0..1]
}
note right of Timesheet::external
  The original
  system of record
end note

Account *- -> "*" Timesheet

class ConnectorExtension <<subject>> {
  module : string
  appliesTo : Timesheet | Project [*]
}
note top of ConnectorExtension
  Represents another system
  whose language we speak,
  for the limited purpose
  of pushing //updates// and
  responding //snapshots//
end note

note right of ConnectorExtension::module
  NodeJS ESM import of
  Connector class
end note

note right of ConnectorExtension::appliesTo
  Selection of account-
  owned data
end note

ConnectorExtension - - Timesheet

abstract class Connector <<javascript>> {
  {static} configKey : string
  {static} contentType : string
  constructor(config, ext)
  syncTimesheet(tsId, state, tick): Observable
  entryUpdate(tsId, update, state)
  reportTimesheet(tsId, state) : Stream
  accountUpdate(update)
}
note right of Connector::constructor
  passed configuration (inc. secrets)
  and extension, can have properties
  storing additional config & data
end note

note right of Connector::syncTimesheet
  Establish sync, e.g. initial
  import or export; then provide
  ongoing updates
end note

note right of Connector::entryUpdate
  Update of Timesheet Entries.
  Provided with the Timesheet
  ID, raw m-ld update, the
  current Timesheet state
end note

note right of Connector::accountUpdate
  Limited account updates e.g.
  create/delete Timesheet
end note

ConnectorExtension - - "implementation" Connector

@enduml

@startuml

hide circle
allowmixing

abstract class Account <<subject>> {
  timesheet : Timesheet [*]
  project : Project [*]
}

class Timesheet <<domain>> <<subject>> {
  project : Project [*]
  external : Reference [0..1]
}
note right of Timesheet::external
  The original
  system of record
end note

Account *- -> "*" Timesheet

class ConnectorExtension <<subject>> {
  module : string
  appliesTo : Timesheet | Project [*]
}
note top of ConnectorExtension
  Represents another system
  whose language we speak,
  for the limited purpose
  of pushing //updates// and
  responding //snapshots//
end note

note right of ConnectorExtension::module
  NodeJS ESM import of
  Connector class
end note

note right of ConnectorExtension::appliesTo
  Selection of account-
  owned data
end note

ConnectorExtension - - Timesheet

abstract class Connector <<javascript>> {
  {static} configKey : string
  {static} contentType : string
  constructor(config, ext)
  syncTimesheet(tsId, state, tick): Observable
  entryUpdate(tsId, update, state)
  reportTimesheet(tsId, state) : Stream
  accountUpdate(update)
}
note right of Connector::constructor
  passed configuration (inc. secrets)
  and extension, can have properties
  storing additional config & data
end note

note right of Connector::syncTimesheet
  Establish sync, e.g. initial
  import or export; then provide
  ongoing updates
end note

note right of Connector::entryUpdate
  Update of Timesheet Entries.
  Provided with the Timesheet
  ID, raw m-ld update, the
  current Timesheet state
end note

note right of Connector::accountUpdate
  Limited account updates e.g.
  create/delete Timesheet
end note

ConnectorExtension - - "implementation" Connector

@enduml

PlantUML version 1.2022.8(Sun Sep 25 10:00:33 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>